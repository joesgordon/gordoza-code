package org.jutils.io;

import java.io.*;

import org.jutils.Utils;

/*******************************************************************************
 * 
 ******************************************************************************/
public class FastPrintStream implements IPrintStream, Closeable
{
    /**  */
    private final BufferedWriter writer;

    /***************************************************************************
     * @param file
     * @throws IOException
     **************************************************************************/
    public FastPrintStream( File file ) throws IOException
    {
        writer = new BufferedWriter( new FileWriter( file ), 64 * 1024 );
    }

    /***************************************************************************
     * 
     **************************************************************************/
    @Override
    public void close() throws IOException
    {
        writer.close();
    }

    /***************************************************************************
     * 
     **************************************************************************/
    @Override
    public void print( String str )
    {
        write( str );
    }

    /***************************************************************************
     * 
     **************************************************************************/
    @Override
    public void println()
    {
        writeNewLine();
    }

    /***************************************************************************
     * 
     **************************************************************************/
    @Override
    public void println( String line )
    {
        write( line );
        writeNewLine();
    }

    /***************************************************************************
     * 
     **************************************************************************/
    @Override
    public void println( String format, Object... args )
    {
        println( String.format( format, args ) );
    }

    /***************************************************************************
     * 
     **************************************************************************/
    @Override
    public void print( String format, Object... args )
    {
        print( String.format( format, args ) );
    }

    /***************************************************************************
     * 
     **************************************************************************/
    @Override
    public void println( char [] chars )
    {
        write( chars );
    }

    /***************************************************************************
     * 
     **************************************************************************/
    private void writeNewLine()
    {
        write( Utils.NEW_LINE );
    }

    /***************************************************************************
     * @param str
     **************************************************************************/
    private void write( String str )
    {
        try
        {
            writer.write( str );
        }
        catch( IOException ex )
        {
            ex.printStackTrace();
        }
    }

    /***************************************************************************
     * @param chars
     **************************************************************************/
    private void write( char [] chars )
    {
        try
        {
            writer.write( chars );
        }
        catch( IOException ex )
        {
            ex.printStackTrace();
        }
    }
}
